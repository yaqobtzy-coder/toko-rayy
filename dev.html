<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dev Panel - Rayy</title>
    <style>
        :root { --primary: #38bdf8; --bg: #0b1120; --card: #1e293b; --red: #ef4444; --green: #22c55e; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 20px; }
        .container { max-width: 500px; margin: auto; }
        .card { background: var(--card); border-radius: 20px; padding: 20px; margin-bottom: 15px; border: 1px solid #334155; }
        .label { font-size: 0.75rem; color: #94a3b8; font-weight: 800; text-transform: uppercase; margin-bottom: 10px; display: block; }
        input { width: 100%; padding: 15px; margin: 10px 0; background: #0f172a; border: 1px solid #334155; color: white; border-radius: 12px; box-sizing: border-box; outline: none; }
        .btn { width: 100%; padding: 15px; border: none; border-radius: 12px; font-weight: 800; cursor: pointer; text-transform: uppercase; margin-bottom: 10px; }
        .btn-blue { background: var(--primary); color: var(--bg); }
        .btn-red { background: var(--red); color: white; }
        .list-item { display: flex; justify-content: space-between; align-items: center; padding: 10px; background: #0f172a; border-radius: 10px; margin-bottom: 5px; font-size: 0.85rem; border-left: 4px solid var(--primary); }
    </style>
</head>
<body>

<div class="container">
    <div id="loginDev">
        <div class="card" style="text-align: center;">
            <h2 style="color: var(--primary);">DEV UNLOCK</h2>
            <input type="password" id="passDev" placeholder="Masukkan Kode Dev">
            <button class="btn btn-blue" onclick="unlock()">MASUK PANEL</button>
        </div>
    </div>

    <div id="panelDev" style="display: none;">
        <h2 style="color: var(--primary); text-align: center;">DEV CONTROL CENTER</h2>
        
        <div class="card">
            <span class="label">Buat Akun Admin Baru</span>
            <input type="text" id="newU" placeholder="Username Admin">
            <input type="text" id="newP" placeholder="Password Admin">
            <button class="btn btn-blue" onclick="addAdmin()">SIMPAN ADMIN</button>
            <div id="adminList" style="margin-top: 10px;"></div>
        </div>

        <div class="card">
            <span class="label">Sistem Ban/Unban Manual</span>
            <input type="text" id="banU" placeholder="Username Target">
            <div style="display: flex; gap: 10px;">
                <button class="btn btn-red" style="flex: 1;" onclick="prosesAction('BAN')">BAN</button>
                <button class="btn btn-blue" style="flex: 1;" onclick="prosesAction('UNBAN')">UNBAN</button>
            </div>
            <span class="label" style="margin-top: 15px;">Daftar User Terblokir</span>
            <div id="banList"></div>
        </div>

        <div class="card">
            <span class="label">Riwayat Login Admin</span>
            <div id="logList"></div>
            <button class="btn btn-red" style="font-size: 0.7rem; padding: 10px;" onclick="clearLogs()">HAPUS SEMUA LOG</button>
        </div>

        <button class="btn btn-red" onclick="location.reload()">LOGOUT DEV</button>
    </div>
</div>

<script>
    const KEY = "085794";
    const OWNER = "rayy_dev";

    function unlock() {
        if(document.getElementById('passDev').value === KEY) {
            document.getElementById('loginDev').style.display = 'none';
            document.getElementById('panelDev').style.display = 'block';
            render();
        } else { alert("Kode Salah!"); }
    }

    function addAdmin() {
        const u = document.getElementById('newU').value.trim();
        const p = document.getElementById('newP').value.trim();
        if(!u || !p) return alert("Isi lengkap!");
        
        let admins = JSON.parse(localStorage.getItem('sys_admins') || '[]');
        admins.push({user: u, pass: p});
        localStorage.setItem('sys_admins', JSON.stringify(admins));
        
        document.getElementById('newU').value = "";
        document.getElementById('newP').value = "";
        render();
        alert("Admin Berhasil Dibuat!");
    }

    function prosesAction(type) {
        const target = document.getElementById('banU').value.trim();
        if(!target) return;
        if(target === OWNER) return alert("Gagal: Akun Owner tidak bisa di ban!");

        let banned = JSON.parse(localStorage.getItem('sys_banned') || '[]');
        
        if(type === 'BAN') {
            if(!banned.includes(target)) banned.push(target);
        } else {
            banned = banned.filter(u => u !== target);
        }

        localStorage.setItem('sys_banned', JSON.stringify(banned));
        document.getElementById('banU').value = "";
        render();
        alert("Berhasil: " + type + " " + target);
    }

    function deleteAdmin(idx) {
        let admins = JSON.parse(localStorage.getItem('sys_admins') || '[]');
        admins.splice(idx, 1);
        localStorage.setItem('sys_admins', JSON.stringify(admins));
        render();
    }

    function clearLogs() {
        localStorage.removeItem('sys_logs');
        render();
    }

    function render() {
        // Render Admin
        const aList = document.getElementById('adminList');
        let admins = JSON.parse(localStorage.getItem('sys_admins') || '[]');
        aList.innerHTML = admins.map((a, i) => `
            <div class="list-item">
                <span>${a.user}</span>
                <button onclick="deleteAdmin(${i})" style="color:red; background:none; border:none; cursor:pointer;">Hapus</button>
            </div>`).join('');

        // Render Banned
        const bList = document.getElementById('banList');
        let banned = JSON.parse(localStorage.getItem('sys_banned') || '[]');
        bList.innerHTML = banned.length === 0 ? "<small>Tidak ada data.</small>" : 
            banned.map(u => `<div class="list-item" style="border-left-color:red;"><span>${u}</span> <span style="color:red; font-weight:bold;">BANNED</span></div>`).join('');

        // Render Logs
        const lList = document.getElementById('logList');
        let logs = JSON.parse(localStorage.getItem('sys_logs') || '[]');
        lList.innerHTML = logs.reverse().map(l => `
            <div class="list-item" style="border-left-color:gray;">
                <span>${l.user}</span>
                <small>${l.time}</small>
            </div>`).join('');
    }
</script>
</body>
</html>
